<!-- @@master  = ../../_layout.html-->
<!-- @@block  =  jsBottom-->
<include src="../../_articles-js.html"></include>

<!-- @@close-->
<!-- @@block  =  css-->
<include src="../../_articles-css.html"></include>

<!-- @@close-->
<!-- @@block  =  articles-social-->
<include src="../../_articles-social.html"></include>

<!-- @@close-->
<!-- @@block  =  articles-footer-->
<include src="../../_articles.html"></include>

<!-- @@close-->
<!-- @@block  =  meta-->
<meta property="article:published_time" content="2014-12-25T23:55:00+01:00">

<meta name="keywords" content="svg,d3,d3js,d3.js,color,colors,色彩">

<meta name="description" content="在 d3.js 裡，同樣也有操作顏色的 API,有別於一般我們在寫 CSS 的顏色方式，d3.js 是使用 RGB ( 紅綠藍 )、HSL (色調、飽和度，亮度) 、HCL 與 LAB ( 亮度，a 維度，b 維度 ) 的這些色彩空間。">

<meta itemprop="name" content="SVG D3.js - 定義色彩 - 基本篇 ( colors ) - OXXO.STUDIO">

<meta itemprop="image" content="http://www.oxxostudio.tw/img/articles/201412/20141225_1_01b.jpg">

<meta itemprop="description" content="在 d3.js 裡，同樣也有操作顏色的 API,有別於一般我們在寫 CSS 的顏色方式，d3.js 是使用 RGB ( 紅綠藍 )、HSL (色調、飽和度，亮度) 、HCL 與 LAB ( 亮度，a 維度，b 維度 ) 的這些色彩空間。">

<meta property="og:title" content="SVG D3.js - 定義色彩 - 基本篇 ( colors ) - OXXO.STUDIO">

<meta property="og:url" content="http://www.oxxostudio.tw/articles/201412/svg-d3-09-colors-1.html">

<meta property="og:image" content="http://www.oxxostudio.tw/img/articles/201412/20141225_1_01b.jpg">

<meta property="og:description" content="在 d3.js 裡，同樣也有操作顏色的 API,有別於一般我們在寫 CSS 的顏色方式，d3.js 是使用 RGB ( 紅綠藍 )、HSL (色調、飽和度，亮度) 、HCL 與 LAB ( 亮度，a 維度，b 維度 ) 的這些色彩空間。">

<title>SVG D3.js - 定義色彩 - 基本篇 ( colors )  - OXXO.STUDIO</title> 

<!-- @@close-->
<!-- @@block  =  articles-content--> 
<h2>SVG D3.js - 定義色彩 - 基本篇 ( colors )  <span class="article-date" tag="web">DEC 25, 2014</span></h2>
<p><img src="/img/articles/201412/20141225_1_01.jpg" class="preview-img"></p>
<p>在網頁的世界裡，色彩是非常重要的，通常我們在寫網頁的色彩，不外乎就是用十六進制 ( #f00、#fff )、顏色名稱 ( red、yellow ) 或 rgba ( rgba(0,0,0,0) )，而在 d3.js 裡，同樣也有操作顏色的 API,有別於一般我們在寫 CSS 的顏色方式，d3.js 是使用 RGB ( 紅綠藍 )、HSL (色調、飽和度，亮度) 、HCL 與 LAB ( 亮度，a 維度，b 維度 ) 的這些色彩空間，對於這些色彩空間不了解的，可以參考 <a href="http://zh.wikipedia.org/wiki/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%96%93">維基百科色彩空間</a>。</p>
<p>和 CSS 最大的差異，d3.js 可以運用其 API 讓顏色亮一點或暗一點，如果在 CSS 裏頭，要調整某個顏色亮一點暗一點，就非得要自己從十六進制色碼下去著手，而當我們運用 d3.js，就可以直接交給 API 去處理即可，以下就來看看 d3.js 的 colors，具有那些 API 可以使用，這裡列出了以 rgb 開頭的 API,而 HSL、HCL 與 LAB 的用法也都一樣，大家舉一反三就好：</p>
<blockquote>
<ul>
<li>d3.rgb</li>
<li>rgb.brighter</li>
<li>rgb.darker</li>
<li>rgb.hsl </li>
<li>rgb.toString</li>
</ul>
</blockquote>
<p><br/></p>
<ul>
<li><p><strong>d3.rgb(r, g, b)</strong></p>
<p>  這是可以把一個變數宣告為 d3 的色彩，也就是經過這個方式宣告之後，該變數不僅可作為色彩使用，也可利用 d3.js 其他的色彩 API 來控制和調整，下面的例子便是利用這種方式，將四個　div 的背景色設定為紅綠黃藍。( 範例：<a href="/demo/201412/svg-d3-09-colors-1-demo1.html">svg-d3-09-colors-demo1.html</a> )</p>
<p>  HTML：</p>
<pre><code>  &lt;div id=&quot;red&quot;&gt;&lt;/div&gt;
  &lt;div id=&quot;green&quot;&gt;&lt;/div&gt;
  &lt;div id=&quot;yellow&quot;&gt;&lt;/div&gt;
  &lt;div id=&quot;blue&quot;&gt;&lt;/div&gt;
</code></pre><p>  JS：</p>
<pre><code>  var d = d3.selectAll(&#39;div&#39;),
          r = d3.select(&#39;#red&#39;),
          g = d3.select(&#39;#green&#39;),
          y = d3.select(&#39;#yellow&#39;),
          b = d3.select(&#39;#blue&#39;);

  d.style({
    &#39;width&#39;:&#39;80px&#39;,
    &#39;height&#39;:&#39;80px&#39;,
    &#39;display&#39;:&#39;inline-block&#39;,
    &#39;margin&#39;:&#39;3px&#39;
  });

  var red = d3.rgb(255,0,0);
  var green = d3.rgb(0,255,0);
  var yellow = d3.rgb(255,255,0);
  var blue = d3.rgb(0,0,255);

  r.style({
      &#39;background&#39;:red
    });
  g.style({
      &#39;background&#39;:green
    });
  y.style({
      &#39;background&#39;:yellow
    });
  b.style({
      &#39;background&#39;:blue
    });
</code></pre><p>  <img src="/img/articles/201412/20141225_1_02.jpg" alt="SVG D3.js - 定義色彩 - 基本篇 ( colors )"></p>
</li>
</ul>
<p><br/></p>
<ul>
<li><p><strong>d3.rgb(color)</strong></p>
<p>  除了用十進位撰寫顏色之外，其實 d3.js 也可以直接讓我們填寫顏色的名稱或十六進位色碼，不過要注意的是，記得要用引號包起來，才識字串的形式。( 範例：<a href="/demo/201412/svg-d3-09-colors-1-demo2.html">svg-d3-09-colors-1-demo2.html</a> )</p>
<pre><code>  var red = d3.rgb(&#39;red&#39;);
  var green = d3.rgb(&#39;green&#39;);
  var yellow = d3.rgb(&#39;yellow&#39;);
  var blue = d3.rgb(&#39;blue&#39;);
</code></pre><p>  <img src="/img/articles/201412/20141225_1_03.jpg" alt="SVG D3.js - 定義色彩 - 基本篇 ( colors )"></p>
<pre><code>  var red = d3.rgb(&#39;#f00&#39;);
  var green = d3.rgb(&#39;#0f0&#39;);
  var yellow = d3.rgb(&#39;#ff0&#39;);
  var blue = d3.rgb(&#39;#00f&#39;);
</code></pre><p>  <img src="/img/articles/201412/20141225_1_04.jpg" alt="SVG D3.js - 定義色彩 - 基本篇 ( colors )"></p>
</li>
</ul>
<p><br/></p>
<ul>
<li><p><strong>rgb.brighter([k])</strong></p>
<p>  加亮顏色的 API，數值從 0 開始往上加，最主要是在原本的顏色數字乘上 0.7^-k ，數字越大越亮，不過最終的數值範圍是 30-255，超過範圍的就會以最大值或最小值表現，範例有改了一下上面的 HTML，可以點開看完整原始檔。( 範例：<a href="/demo/201412/svg-d3-09-colors-1-demo3.html">svg-d3-09-colors-1-demo3.html</a> )</p>
<pre><code>  var red = d3.rgb(50,0,0);

  r.style({
      &#39;background&#39;:red.brighter(0)
    });
  r1.style({
      &#39;background&#39;:red.brighter(1)
    });
  r2.style({
      &#39;background&#39;:red.brighter(2)
    });
  r3.style({
      &#39;background&#39;:red.brighter(3)
    });
  r4.style({
      &#39;background&#39;:red.brighter(4)
    });
</code></pre><p>  <img src="/img/articles/201412/20141225_1_05.jpg" alt="SVG D3.js - 定義色彩 - 基本篇 ( colors )"></p>
<p>  對於想要了解背後真正運算式的，可以利用 console 看出背後的運作原理，但實際上我們也不太需要真正了解，因為 我們使用 d3.js ，就是為了幫我們解決這些運算呀！</p>
<pre><code>  brighter: function (n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&amp;&amp;u&gt;t&amp;&amp;(t=u),e&amp;&amp;u&gt;e&amp;&amp;(e=u),r&amp;&amp;u&gt;r&amp;&amp;(r=u),new dt(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new dt(u,u,u)}
</code></pre></li>
</ul>
<p><br/></p>
<ul>
<li><p><strong>rgb.darker([k])</strong></p>
<p>  和剛剛的 rgb.brighter 相反，rgb.darker 是變暗，是在原本的顏色數字乘上 0.7^k，注意不是 -k 而是 k。( 範例：<a href="/demo/201412/svg-d3-09-colors-1-demo4.html">svg-d3-09-colors-1-demo4.html</a> )</p>
<pre><code>  var red = d3.rgb(255,0,0);

  r.style({
      &#39;background&#39;:red.darker(0)
    });
  r1.style({
      &#39;background&#39;:red.darker(1)
    });
  r2.style({
      &#39;background&#39;:red.darker(2)
    });
  r3.style({
      &#39;background&#39;:red.darker(3)
    });
  r4.style({
      &#39;background&#39;:red.darker(4)
    });
</code></pre><p>  <img src="/img/articles/201412/20141225_1_06.jpg" alt="SVG D3.js - 定義色彩 - 基本篇 ( colors )"></p>
</li>
</ul>
<p><br/></p>
<ul>
<li><p><strong>rgb.hsl()</strong></p>
<p>  返回 HSL 的色彩，可以直接從 console 看出來。( 範例：<a href="/demo/201412/svg-d3-09-colors-1-demo5.html">svg-d3-09-colors-1-demo5.html</a> )</p>
<pre><code>  var red = d3.rgb(255,0,0);    
  console.log(red.hsl());
</code></pre><p>  <img src="/img/articles/201412/20141225_1_07.jpg" alt="SVG D3.js - 定義色彩 - 基本篇 ( colors )"></p>
</li>
</ul>
<p><br/></p>
<ul>
<li><p><strong>rgb.toString()</strong></p>
<p>  輸出色彩為十六進位字串。( 範例：<a href="/demo/201412/svg-d3-09-colors-1-demo6.html">svg-d3-09-colors-1-demo6.html</a> )</p>
<pre><code>  var red = d3.rgb(255,0,0);
  console.log(red.toString());
</code></pre></li>
</ul>
<p><br/></p>
<p>以上就是 d3.js 對於色彩的基本用法，最主要也是練習色彩的相關 API，下一篇將會繼續介紹色彩的其他用法。</p>
<!-- @@close-->